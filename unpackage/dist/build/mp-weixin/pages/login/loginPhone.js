(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/loginPhone"],{"1d5c":function(e,n,o){"use strict";var t=o("84cd"),a=o.n(t);a.a},4898:function(e,n,o){"use strict";(function(e){o("ecea");t(o("66fd"));var n=t(o("673a"));function t(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=o,e(n.default)}).call(this,o("543d")["createPage"])},"5b2c":function(e,n,o){"use strict";o.d(n,"b",(function(){return a})),o.d(n,"c",(function(){return c})),o.d(n,"a",(function(){return t}));var t={uAvatar:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(o.bind(null,"5e48"))}},a=function(){var e=this,n=e.$createElement;e._self._c},c=[]},"673a":function(e,n,o){"use strict";o.r(n);var t=o("5b2c"),a=o("d266");for(var c in a)"default"!==c&&function(e){o.d(n,e,(function(){return a[e]}))}(c);o("1d5c");var r,u=o("f0c5"),i=Object(u["a"])(a["default"],t["b"],t["c"],!1,null,"f3fd791a",null,!1,t["a"],r);n["default"]=i.exports},"84cd":function(e,n,o){},"8fac":function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=c(o("a34a")),a=o("0358");function c(e){return e&&e.__esModule?e:{default:e}}function r(e,n,o,t,a,c,r){try{var u=e[c](r),i=u.value}catch(l){return void o(l)}u.done?n(i):Promise.resolve(i).then(t,a)}function u(e){return function(){var n=this,o=arguments;return new Promise((function(t,a){var c=e.apply(n,o);function u(e){r(c,t,a,u,i,"next",e)}function i(e){r(c,t,a,u,i,"throw",e)}u(void 0)}))}}var i={name:"Login",data:function(){return{tips:null,SessionKey:"",OpenId:"",nickName:null,avatarUrl:null,code:"",pageOption:{},isPhoneLogin:e.getStorageSync("isPhoneLogin")||!0,phone:""}},methods:{getPhoneNumber:function(e){"getPhoneNumber:ok"==e.detail.errMsg?(console.log(e.detail.code),console.log(e.detail.errMsg),console.log(e.detail.iv),console.log(e.detail.encryptedData),console.log("用户点击了接受"),this.updateUserInfo(e.detail.code)):console.log("用户点击了拒绝")},updateUserInfo:function(){var n=arguments,o=this;return u(t.default.mark((function c(){var r,u,i,l;return t.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:"",u=o,i={openid:e.getStorageSync("openId"),unionid:e.getStorageSync("unionid")},console.log(i),t.next=6,(0,a.phoneLogin)(i,r);case 6:l=t.sent,console.log(l.data),l.data.userInfo.mobile&&(e.setStorageSync("isPhoneLogin",!1),e.setStorageSync("phone",l.data.userInfo.mobile),e.setStorageSync("token",l.data.accessToken),console.log(l.data.accessToken),1==u.pageOption.backtype?(console.log("1111"),e.redirectTo({url:u.pageOption.backpage})):(console.log("2222"),e.switchTab({url:u.pageOption.backpage})));case 9:case"end":return t.stop()}}),c)})))()}},onLoad:function(e){this.pageOption=e,console.log(e)}};n.default=i}).call(this,o("543d")["default"])},d266:function(e,n,o){"use strict";o.r(n);var t=o("8fac"),a=o.n(t);for(var c in t)"default"!==c&&function(e){o.d(n,e,(function(){return t[e]}))}(c);n["default"]=a.a}},[["4898","common/runtime","common/vendor"]]]);